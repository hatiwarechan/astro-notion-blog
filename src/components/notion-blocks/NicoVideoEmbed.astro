---
import { isNicoVideoURL } from '../../lib/blog-helpers.ts'

export interface Props {
  url: string
}

const { url } = Astro.props

const isNico = isNicoVideoURL(new URL(url));

const iframeProps = {
  src: isNico ? `https://ext.nicovideo.jp/thumb/${url.split('/').pop()}` : '',
  width: '312',
  height: '176',
  scrolling: 'no',
  style: {
    border: 'solid 1px #ccc',
  },
  frameborder: '0',
};
---

{isNico ? (
  <iframe {...iframeProps}></iframe>
) : null}
